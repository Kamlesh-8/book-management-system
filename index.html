<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Management System</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>

    body{
      margin:0;
      padding:0;
      font-family:'Poppins',sans-serif;
      background: linear-gradient(135deg,#667eea,#764ba2);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
    }

    .container{
      background:#ffffff;
      width:420px;
      padding:30px;
      border-radius:12px;
      box-shadow:0 15px 35px rgba(0,0,0,0.25);
    }

    h2{
      text-align:center;
      margin-bottom:20px;
      color:#2d3748;
    }

    .form-group{
      margin-bottom:15px;
    }

    input{
      width:100%;
      padding:10px;
      border-radius:6px;
      border:1px solid #ccc;
      font-size:14px;
      outline:none;
    }

    input:focus{
      border-color:#667eea;
    }

    button{
      width:100%;
      padding:10px;
      background:#667eea;
      color:white;
      border:none;
      border-radius:6px;
      font-size:15px;
      cursor:pointer;
      transition:0.3s;
    }

    button:hover{
      background:#5a67d8;
    }

    ul{
      list-style:none;
      padding:0;
      margin-top:20px;
      max-height:200px;
      overflow-y:auto;
    }

    li{
      background:#f7fafc;
      padding:10px;
      border-radius:6px;
      margin-bottom:8px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:13px;
      color:#2d3748;
    }

    li button{
      width:auto;
      padding:5px 10px;
      background:#e53e3e;
      font-size:12px;
    }

    li button:hover{
      background:#c53030;
    }

  </style>
</head>

<body>

<div class="container">

  <h2>ðŸ“š Book Management System</h2>

  <div class="form-group">
    <input id="title" placeholder="Book Title">
  </div>

  <div class="form-group">
    <input id="author" placeholder="Author Name">
  </div>

  <div class="form-group">
    <input id="price" placeholder="Price" type="number">
  </div>

  <button onclick="addBook()">Add Book</button>

  <ul id="list"></ul>

</div>

<script>

async function addBook(){

  const title = document.getElementById("title").value;
  const author = document.getElementById("author").value;
  const price = document.getElementById("price").value;

  if(!title || !author || !price){
    alert("Please fill all fields");
    return;
  }

  await fetch("http://localhost:3000/books",{
    method:"POST",
    headers:{
      "Content-Type":"application/json"
    },
    body: JSON.stringify({
      title,
      author,
      price
    })
  });

  document.getElementById("title").value="";
  document.getElementById("author").value="";
  document.getElementById("price").value="";

  loadBooks();
}

async function loadBooks(){

  const res = await fetch("http://localhost:3000/books");
  const data = await res.json();

  const list = document.getElementById("list");

  list.innerHTML = "";

  data.forEach(b=>{

    const li = document.createElement("li");

    li.innerHTML = `
      <span>${b.title} | ${b.author} | â‚¹${b.price}</span>
      <button onclick="deleteBook('${b._id}')">Delete</button>
    `;

    list.appendChild(li);

  });
}

async function deleteBook(id){

  await fetch("http://localhost:3000/books/"+id,{
    method:"DELETE"
  });

  loadBooks();
}

loadBooks();

</script>

</body>
</html>
